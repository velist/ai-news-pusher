# ğŸ”§ AIæ–°é—»æ¨é€ç³»ç»Ÿæ•…éšœè¯Šæ–­ä¸ä¿®å¤æŒ‡å—

## ğŸš¨ ç´§æ€¥å®‰å…¨æé†’

**å¦‚æœæ‚¨åˆšæ‰åˆ†äº«äº†GitHubä»¤ç‰Œï¼Œè¯·ç«‹å³æ‰§è¡Œï¼š**
1. è®¿é—® https://github.com/settings/tokens
2. æ’¤é”€åˆšæ‰åˆ†äº«çš„ä»¤ç‰Œ
3. ç”Ÿæˆæ–°çš„ä»¤ç‰Œå¹¶å¦¥å–„ä¿ç®¡

## ğŸ“‹ ç³»ç»Ÿæ€§æ•…éšœè¯Šæ–­æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šGitHub ActionsçŠ¶æ€æ£€æŸ¥

#### 1.1 æŸ¥çœ‹Actionsè¿è¡ŒçŠ¶æ€
```bash
# è®¿é—®æ‚¨çš„ä»“åº“
https://github.com/velist/ai-news-pusher/actions

# æŸ¥çœ‹æœ€æ–°è¿è¡Œçš„workflow
# ç‚¹å‡»å¤±è´¥çš„è¿è¡ŒæŸ¥çœ‹è¯¦ç»†æ—¥å¿—
```

#### 1.2 å¸¸è§Actionsé”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

**é”™è¯¯ç±»å‹Aï¼šAPIå¯†é’¥é—®é¢˜**
```
Error: GNEWS_API_KEY is not set
Error: Invalid API key
Error: API quota exceeded
```

**è§£å†³æ–¹æ¡ˆAï¼š**
```bash
1. æ£€æŸ¥GitHub Secretsé…ç½®ï¼š
   ä»“åº“ â†’ Settings â†’ Secrets and variables â†’ Actions
   
2. ç¡®è®¤ä»¥ä¸‹Secretså­˜åœ¨ä¸”æ­£ç¡®ï¼š
   - GNEWS_API_KEY: 32ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²
   - SILICONFLOW_API_KEY: ä»¥sk-å¼€å¤´çš„å­—ç¬¦ä¸²

3. æµ‹è¯•APIå¯†é’¥æœ‰æ•ˆæ€§ï¼š
   # GNews APIæµ‹è¯•
   curl "https://gnews.io/api/v4/search?q=AI&apikey=ä½ çš„å¯†é’¥"
   
   # ç¡…åŸºæµåŠ¨APIæµ‹è¯•ï¼ˆéœ€è¦POSTè¯·æ±‚ï¼‰
```

**é”™è¯¯ç±»å‹Bï¼šä¾èµ–å’Œç¯å¢ƒé—®é¢˜**
```
Error: No module named 'xxx'
Error: Python version incompatibility
Error: Timeout during installation
```

**è§£å†³æ–¹æ¡ˆBï¼š**
```yaml
# æ›´æ–° .github/workflows/daily-news-push.yml
- name: è®¾ç½®Pythonç¯å¢ƒ
  uses: actions/setup-python@v4
  with:
    python-version: '3.9'  # å›ºå®šç‰ˆæœ¬é¿å…å…¼å®¹æ€§é—®é¢˜

- name: å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
  run: |
    python -m pip install --upgrade pip
    # å¦‚æœæœ‰requirements.txt
    # pip install -r requirements.txt
```

**é”™è¯¯ç±»å‹Cï¼šæƒé™å’Œæ¨é€é—®é¢˜**
```
Error: Permission denied
Error: Push failed
Error: Repository not found
```

**è§£å†³æ–¹æ¡ˆCï¼š**
```bash
# æ£€æŸ¥ä»“åº“æƒé™è®¾ç½®
1. Settings â†’ Actions â†’ General
2. Workflow permissions: Read and write permissions âœ…
3. Allow GitHub Actions to create and approve pull requests âœ…
```

### ç¬¬äºŒæ­¥ï¼šVerceléƒ¨ç½²è¯Šæ–­

#### 2.1 Verceléƒ¨ç½²çŠ¶æ€æ£€æŸ¥
```bash
# è®¿é—®Vercel Dashboard
https://vercel.com/dashboard

# æŸ¥çœ‹é¡¹ç›®çŠ¶æ€
# é¡¹ç›®åç§° â†’ Deployments â†’ æœ€æ–°éƒ¨ç½²
# æŸ¥çœ‹Build Logså’ŒFunction Logs
```

#### 2.2 å¸¸è§Vercelé”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

**é”™è¯¯ç±»å‹Aï¼šæ„å»ºé…ç½®é—®é¢˜**
```
Error: Build failed due to a user error
Error: vercel.json schema validation failed
Error: No such file or directory
```

**è§£å†³æ–¹æ¡ˆAï¼š**
```json
// æ£€æŸ¥å¹¶ä¿®å¤ vercel.json
{
  "version": 2,
  "cleanUrls": true,
  "trailingSlash": false,
  "rewrites": [
    {
      "source": "/",
      "destination": "/docs/index.html"
    },
    {
      "source": "/news/(.*)",
      "destination": "/docs/news/$1"
    }
  ],
  "headers": [
    {
      "source": "/docs/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=300"
        }
      ]
    }
  ]
}
```

**é”™è¯¯ç±»å‹Bï¼šç¯å¢ƒå˜é‡ç¼ºå¤±**
```
Error: Missing environment variables
Error: GNEWS_API_KEY is not defined
```

**è§£å†³æ–¹æ¡ˆBï¼š**
```bash
# Vercelé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡
1. Project Settings â†’ Environment Variables
2. æ·»åŠ ï¼š
   - GNEWS_API_KEY = ä½ çš„GNewså¯†é’¥
   - SILICONFLOW_API_KEY = ä½ çš„ç¡…åŸºæµåŠ¨å¯†é’¥
3. é‡æ–°éƒ¨ç½²
```

**é”™è¯¯ç±»å‹Cï¼šæ–‡ä»¶è·¯å¾„é—®é¢˜**
```
Error: 404 - This page could not be found
Error: docs/index.html not found
```

**è§£å†³æ–¹æ¡ˆCï¼š**
```bash
# ç¡®ä¿docsç›®å½•ç»“æ„æ­£ç¡®
docs/
â”œâ”€â”€ index.html          # ä¸»é¡µ
â”œâ”€â”€ news/              # æ–°é—»è¯¦æƒ…ç›®å½•
â”‚   â”œâ”€â”€ article1.html
â”‚   â””â”€â”€ article2.html
â””â”€â”€ news_data.json     # æ–°é—»æ•°æ®
```

### ç¬¬ä¸‰æ­¥ï¼šæ ¸å¿ƒè„šæœ¬ä¿®å¤

#### 3.1 è¶…ç®€åŒ–ç‰ˆæœ¬ä¿®å¤ï¼ˆæ¨èï¼‰

åˆ›å»º `ultra_simple_news_fixed.py`ï¼š

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ä¿®å¤ç‰ˆè¶…ç®€åŒ–AIæ–°é—»æ¨é€ - å¢å¼ºé”™è¯¯å¤„ç†
"""

import os
import json
import urllib.request
import urllib.parse
from datetime import datetime, timedelta
import sys

def load_env_file():
    """åŠ è½½ç¯å¢ƒå˜é‡"""
    env_path = '.env'
    if os.path.exists(env_path):
        try:
            with open(env_path, 'r', encoding='utf-8') as f:
                for line in f:
                    line = line.strip()
                    if line and not line.startswith('#') and '=' in line:
                        key, value = line.split('=', 1)
                        os.environ[key.strip()] = value.strip()
            print("âœ… ç¯å¢ƒå˜é‡åŠ è½½æˆåŠŸ")
            return True
        except Exception as e:
            print(f"âš ï¸ ç¯å¢ƒå˜é‡åŠ è½½å¤±è´¥: {e}")
            return False
    return False

def test_api_keys():
    """æµ‹è¯•APIå¯†é’¥æœ‰æ•ˆæ€§"""
    gnews_key = os.getenv('GNEWS_API_KEY')
    siliconflow_key = os.getenv('SILICONFLOW_API_KEY')
    
    print("ğŸ”‘ APIå¯†é’¥æ£€æŸ¥:")
    print(f"  GNews API: {'âœ… å·²è®¾ç½®' if gnews_key else 'âŒ æœªè®¾ç½®'}")
    print(f"  ç¡…åŸºæµåŠ¨API: {'âœ… å·²è®¾ç½®' if siliconflow_key else 'âŒ æœªè®¾ç½®'}")
    
    if gnews_key:
        print(f"  GNewså¯†é’¥æ ¼å¼: {'âœ… æ­£ç¡®' if len(gnews_key) == 32 else 'âŒ æ ¼å¼é”™è¯¯'}")
    
    return gnews_key is not None

def fetch_news_with_retry(api_key, max_retries=3):
    """å¸¦é‡è¯•æœºåˆ¶çš„æ–°é—»è·å–"""
    for attempt in range(max_retries):
        try:
            print(f"ğŸ“¡ è·å–æ–°é—»ä¸­... (å°è¯• {attempt + 1}/{max_retries})")
            
            params = {
                "q": "AI OR OpenAI OR ChatGPT OR artificial intelligence",
                "lang": "en",
                "country": "us", 
                "max": 8,
                "apikey": api_key
            }
            
            query_string = urllib.parse.urlencode(params)
            url = f"https://gnews.io/api/v4/search?{query_string}"
            
            req = urllib.request.Request(url)
            req.add_header('User-Agent', 'Mozilla/5.0 (compatible; NewsBot/1.0)')
            
            with urllib.request.urlopen(req, timeout=15) as response:
                data = json.loads(response.read().decode())
            
            if 'articles' in data and data['articles']:
                articles = []
                for i, article in enumerate(data['articles'][:8]):
                    articles.append({
                        "id": f"ai_{i}_{int(datetime.now().timestamp())}",
                        "title": article.get('title', 'æ— æ ‡é¢˜'),
                        "summary": article.get('description', 'æ— æè¿°'),
                        "source": article.get('source', {}).get('name', 'æœªçŸ¥æ¥æº'),
                        "url": article.get('url', ''),
                        "category": "AIç§‘æŠ€",
                        "time": "åˆšåˆš"
                    })
                
                print(f"âœ… æˆåŠŸè·å– {len(articles)} æ¡æ–°é—»")
                return articles
            else:
                print("âš ï¸ APIè¿”å›ç©ºæ•°æ®")
                
        except urllib.error.HTTPError as e:
            print(f"âŒ HTTPé”™è¯¯ {e.code}: {e.reason}")
            if e.code == 429:
                print("  åŸå› ï¼šAPIé…é¢è¶…é™")
            elif e.code == 401:
                print("  åŸå› ï¼šAPIå¯†é’¥æ— æ•ˆ")
        except Exception as e:
            print(f"âŒ è¯·æ±‚å¤±è´¥: {e}")
        
        if attempt < max_retries - 1:
            print(f"â³ ç­‰å¾… {2 ** attempt} ç§’åé‡è¯•...")
            import time
            time.sleep(2 ** attempt)
    
    print("âŒ æ‰€æœ‰é‡è¯•å‡å¤±è´¥ï¼Œä½¿ç”¨ç¤ºä¾‹æ•°æ®")
    return get_sample_articles()

def get_sample_articles():
    """è·å–ç¤ºä¾‹æ–‡ç« """
    return [
        {
            "id": "sample_1",
            "title": "OpenAIå‘å¸ƒæœ€æ–°GPTæ¨¡å‹ï¼ŒAIèƒ½åŠ›å†æ¬¡çªç ´",
            "summary": "OpenAIä»Šæ—¥å‘å¸ƒäº†æœ€æ–°çš„GPTæ¨¡å‹ï¼Œåœ¨æ¨ç†èƒ½åŠ›å’Œå¤šæ¨¡æ€ç†è§£æ–¹é¢éƒ½æœ‰æ˜¾è‘—æå‡ï¼Œæ ‡å¿—ç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„åˆä¸€é‡è¦é‡Œç¨‹ç¢‘ã€‚",
            "source": "TechCrunch",
            "url": "https://techcrunch.com",
            "category": "AIç§‘æŠ€",
            "time": "1å°æ—¶å‰"
        },
        {
            "id": "sample_2",
            "title": "AIå·¥å…·åœ¨ä¼ä¸šä¸­çš„åº”ç”¨å‘ˆç°çˆ†å‘å¼å¢é•¿",
            "summary": "æœ€æ–°è°ƒç ”æ˜¾ç¤ºï¼Œ2024å¹´æœ‰è¶…è¿‡80%çš„ä¼ä¸šå¼€å§‹é‡‡ç”¨AIå·¥å…·æå‡å·¥ä½œæ•ˆç‡ï¼ŒAIæ­£åœ¨ä»æ¦‚å¿µèµ°å‘å®é™…åº”ç”¨ã€‚",
            "source": "Forbes",
            "url": "https://forbes.com",
            "category": "AIäº§ä¸š",
            "time": "3å°æ—¶å‰"
        },
        {
            "id": "sample_3",
            "title": "å„å›½æ”¿åºœåŠ å¼ºAIç›‘ç®¡ï¼Œç¡®ä¿æŠ€æœ¯å®‰å…¨å‘å±•",
            "summary": "ç¾å›½ã€æ¬§ç›Ÿã€ä¸­å›½ç­‰å¤šä¸ªå›½å®¶å’Œåœ°åŒºæ­£åœ¨åˆ¶å®šæ›´å®Œå–„çš„AIç›‘ç®¡æ”¿ç­–ï¼Œæ—¨åœ¨å¹³è¡¡åˆ›æ–°å‘å±•ä¸å®‰å…¨é£é™©ã€‚",
            "source": "Reuters",
            "url": "https://reuters.com",
            "category": "AIæ”¿ç­–",
            "time": "5å°æ—¶å‰"
        }
    ]

def ensure_directories():
    """ç¡®ä¿å¿…è¦ç›®å½•å­˜åœ¨"""
    try:
        os.makedirs('docs', exist_ok=True)
        os.makedirs('docs/news', exist_ok=True)
        print("âœ… ç›®å½•ç»“æ„æ£€æŸ¥å®Œæˆ")
        return True
    except Exception as e:
        print(f"âŒ åˆ›å»ºç›®å½•å¤±è´¥: {e}")
        return False

def generate_enhanced_html(articles):
    """ç”Ÿæˆå¢å¼ºç‰ˆHTMLé¡µé¢"""
    update_time = datetime.now().strftime('%Yå¹´%mæœˆ%dæ—¥ %H:%M')
    
    html = f'''<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– AIç§‘æŠ€æ—¥æŠ¥ - æ™ºèƒ½æ–°é—»æ¨é€</title>
    <meta name="description" content="AIç§‘æŠ€æ—¥æŠ¥æä¾›æœ€æ–°çš„äººå·¥æ™ºèƒ½æ–°é—»ï¼ŒåŒ…æ‹¬OpenAIã€ChatGPTç­‰å‰æ²¿ç§‘æŠ€èµ„è®¯">
    <meta name="keywords" content="AI,äººå·¥æ™ºèƒ½,OpenAI,ChatGPT,ç§‘æŠ€æ–°é—»">
    <style>
        * {{ margin: 0; padding: 0; box-sizing: border-box; }}
        body {{ 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            line-height: 1.6; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; color: #333;
        }}
        .container {{ max-width: 1200px; margin: 0 auto; padding: 20px; }}
        .header {{ 
            text-align: center; background: rgba(255,255,255,0.95); 
            border-radius: 20px; padding: 30px; margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px);
        }}
        .header h1 {{ 
            font-size: 2.5em; margin-bottom: 10px; font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }}
        .header p {{ color: #666; font-size: 1.1em; margin-bottom: 15px; }}
        .update-time {{ 
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white; padding: 8px 20px; border-radius: 25px; 
            display: inline-block; font-weight: 500;
        }}
        .stats {{ 
            display: flex; justify-content: center; gap: 30px; margin-top: 20px;
            flex-wrap: wrap;
        }}
        .stat-item {{ 
            background: rgba(102, 126, 234, 0.1); padding: 10px 20px; 
            border-radius: 12px; text-align: center;
        }}
        .stat-number {{ font-size: 1.5em; font-weight: 700; color: #667eea; }}
        .stat-label {{ font-size: 0.9em; color: #666; }}
        .news-grid {{ 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
            gap: 25px; margin-top: 30px;
        }}
        .news-card {{ 
            background: rgba(255,255,255,0.95); border-radius: 16px; 
            padding: 25px; box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease; cursor: pointer; position: relative;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
        }}
        .news-card:hover {{ 
            transform: translateY(-5px); 
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }}
        .news-card::before {{ 
            content: ''; position: absolute; top: 0; left: 0; right: 0; 
            height: 4px; background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 16px 16px 0 0;
        }}
        .category-tag {{ 
            position: absolute; top: 15px; right: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2); color: white;
            padding: 5px 12px; border-radius: 15px; font-size: 0.8em; 
            font-weight: 600; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }}
        .news-title {{ 
            font-size: 1.3em; font-weight: 600; color: #333; 
            margin-bottom: 15px; line-height: 1.4; padding-right: 80px;
        }}
        .news-summary {{ 
            color: #666; margin-bottom: 20px; line-height: 1.6;
            font-size: 0.95em;
        }}
        .news-meta {{ 
            display: flex; justify-content: space-between; align-items: center;
            padding-top: 15px; border-top: 1px solid #eee;
        }}
        .news-source {{ 
            font-weight: 600; color: #667eea; font-size: 0.9em;
        }}
        .news-time {{ 
            color: #999; font-size: 0.85em;
        }}
        .footer {{
            text-align: center; margin-top: 50px; padding: 30px;
            background: rgba(255,255,255,0.1); border-radius: 20px;
            backdrop-filter: blur(10px); color: rgba(255,255,255,0.8);
        }}
        .footer a {{ color: rgba(255,255,255,0.9); text-decoration: none; }}
        .footer a:hover {{ text-decoration: underline; }}
        @media (max-width: 768px) {{
            .container {{ padding: 15px; }}
            .header {{ padding: 20px; }}
            .header h1 {{ font-size: 2em; }}
            .news-grid {{ grid-template-columns: 1fr; }}
            .stats {{ gap: 15px; }}
            .news-title {{ padding-right: 60px; }}
        }}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– AIç§‘æŠ€æ—¥æŠ¥</h1>
            <p>ä¸“æ³¨äººå·¥æ™ºèƒ½å‰æ²¿èµ„è®¯ï¼Œæ¯æ—¥ç²¾é€‰ä¼˜è´¨å†…å®¹</p>
            <div class="update-time">æœ€åæ›´æ–°: {update_time}</div>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">{len(articles)}</div>
                    <div class="stat-label">ä»Šæ—¥æ–°é—»</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">è‡ªåŠ¨æ›´æ–°</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">AI</div>
                    <div class="stat-label">æ™ºèƒ½ç­›é€‰</div>
                </div>
            </div>
        </div>
        
        <div class="news-grid">'''
    
    for article in articles:
        html += f'''
            <div class="news-card" onclick="openDetail('{article.get('id', '')}')">
                <div class="category-tag">{article.get('category', 'ç§‘æŠ€')}</div>
                <h3 class="news-title">{article.get('title', 'æ— æ ‡é¢˜')}</h3>
                <p class="news-summary">{article.get('summary', 'æ— æ‘˜è¦')}</p>
                <div class="news-meta">
                    <span class="news-source">{article.get('source', 'æœªçŸ¥æ¥æº')}</span>
                    <span class="news-time">{article.get('time', 'æœªçŸ¥æ—¶é—´')}</span>
                </div>
            </div>'''
    
    html += f'''
        </div>
        
        <div class="footer">
            <p>ğŸ¤– æœ¬ç«™ç”±AIè‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–° | æ•°æ®æ¥æºï¼šGNews API</p>
            <p>ğŸ’¡ <a href="https://github.com/velist/ai-news-pusher" target="_blank">æŸ¥çœ‹æºç </a> | 
               ğŸ“§ <a href="mailto:contact@example.com">è”ç³»æˆ‘ä»¬</a></p>
            <p style="margin-top: 10px; font-size: 0.8em; opacity: 0.7;">
                âš¡ æŠ€æœ¯æ ˆï¼šPython + GitHub Actions + Vercel | 
                ğŸŒ æ›´æ–°é¢‘ç‡ï¼šæ¯å°æ—¶è‡ªåŠ¨æ›´æ–°
            </p>
        </div>
    </div>
    
    <script>
        function openDetail(articleId) {{
            if (articleId && articleId !== 'sample_1' && articleId !== 'sample_2' && articleId !== 'sample_3') {{
                window.open('news/' + articleId + '.html', '_blank');
            }} else {{
                // ç¤ºä¾‹æ–‡ç« ç›´æ¥æ˜¾ç¤ºalertæˆ–è·³è½¬åˆ°å¤–éƒ¨é“¾æ¥
                alert('è¿™æ˜¯ç¤ºä¾‹æ–‡ç« ï¼Œè¯·æŸ¥çœ‹å®é™…éƒ¨ç½²åçš„çœŸå®æ–°é—»é“¾æ¥');
            }}
        }}
        
        // æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»
        document.addEventListener('DOMContentLoaded', function() {{
            const cards = document.querySelectorAll('.news-card');
            cards.forEach((card, index) => {{
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {{
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }}, index * 100);
            }});
        }});
    </script>
</body>
</html>'''
    
    return html

def generate_detail_page(article):
    """ç”Ÿæˆæ–°é—»è¯¦æƒ…é¡µé¢"""
    html = f'''<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{article.get('title', 'æ— æ ‡é¢˜')} - AIç§‘æŠ€æ—¥æŠ¥</title>
    <style>
        body {{ 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", sans-serif;
            line-height: 1.8; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0; padding: 20px; min-height: 100vh;
        }}
        .container {{ max-width: 800px; margin: 0 auto; }}
        .back-btn {{ 
            background: rgba(255,255,255,0.9); color: #667eea; border: none;
            padding: 12px 24px; border-radius: 25px; text-decoration: none;
            display: inline-block; margin-bottom: 30px; font-weight: 600;
            transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }}
        .back-btn:hover {{ background: #667eea; color: white; transform: translateY(-2px); }}
        .article {{ 
            background: rgba(255,255,255,0.95); border-radius: 20px; 
            padding: 40px; box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }}
        .article-title {{ 
            font-size: 2.2em; font-weight: 700; color: #333; 
            margin-bottom: 20px; line-height: 1.3;
        }}
        .article-meta {{ 
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 0; border-bottom: 2px solid #f0f0f0; margin-bottom: 30px;
        }}
        .article-source {{ font-weight: 600; color: #667eea; font-size: 1.1em; }}
        .article-time {{ color: #666; }}
        .article-category {{ 
            background: linear-gradient(45deg, #667eea, #764ba2); color: white;
            padding: 8px 16px; border-radius: 20px; font-size: 0.9em; font-weight: 600;
        }}
        .article-content {{ 
            font-size: 1.1em; color: #444; line-height: 1.8; margin-bottom: 30px;
        }}
        .read-original {{ 
            background: linear-gradient(45deg, #667eea, #764ba2); color: white;
            padding: 15px 30px; border-radius: 30px; text-decoration: none;
            display: inline-block; font-weight: 600; transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }}
        .read-original:hover {{ 
            transform: translateY(-3px); 
            box-shadow: 0 12px 25px rgba(102, 126, 234, 0.4);
        }}
        @media (max-width: 768px) {{
            .container {{ padding: 15px; }}
            .article {{ padding: 25px; }}
            .article-title {{ font-size: 1.8em; }}
        }}
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-btn">â† è¿”å›é¦–é¡µ</a>
        
        <div class="article">
            <h1 class="article-title">{article.get('title', 'æ— æ ‡é¢˜')}</h1>
            
            <div class="article-meta">
                <div>
                    <span class="article-source">{article.get('source', 'æœªçŸ¥æ¥æº')}</span>
                    <span class="article-time"> â€¢ {article.get('time', 'æœªçŸ¥æ—¶é—´')}</span>
                </div>
                <div class="article-category">{article.get('category', 'ç§‘æŠ€')}</div>
            </div>
            
            <div class="article-content">
                <p>{article.get('summary', 'æš‚æ— è¯¦ç»†å†…å®¹ï¼Œè¯·ç‚¹å‡»ä¸‹æ–¹é“¾æ¥æŸ¥çœ‹åŸæ–‡ã€‚')}</p>
            </div>
            
            <a href="{article.get('url', '#')}" target="_blank" class="read-original">é˜…è¯»åŸæ–‡ â†’</a>
        </div>
    </div>
</body>
</html>'''
    return html

def main():
    """ä¸»å‡½æ•° - å¢å¼ºç‰ˆé”™è¯¯å¤„ç†"""
    print("ğŸš€ å¯åŠ¨ä¿®å¤ç‰ˆAIæ–°é—»æ¨é€ç³»ç»Ÿ...")
    print("=" * 50)
    
    try:
        # 1. åŠ è½½ç¯å¢ƒå˜é‡
        load_env_file()
        
        # 2. æµ‹è¯•APIå¯†é’¥
        if not test_api_keys():
            print("âš ï¸ APIå¯†é’¥æ£€æŸ¥å¤±è´¥ï¼Œå°†ä½¿ç”¨ç¤ºä¾‹æ•°æ®")
        
        # 3. ç¡®ä¿ç›®å½•ç»“æ„
        if not ensure_directories():
            print("âŒ æ— æ³•åˆ›å»ºå¿…è¦ç›®å½•ï¼Œç¨‹åºé€€å‡º")
            return False
        
        # 4. è·å–æ–°é—»æ•°æ®
        api_key = os.getenv('GNEWS_API_KEY')
        if api_key:
            articles = fetch_news_with_retry(api_key)
        else:
            print("âš ï¸ æœªæ‰¾åˆ°APIå¯†é’¥ï¼Œä½¿ç”¨ç¤ºä¾‹æ•°æ®")
            articles = get_sample_articles()
        
        # 5. ç”ŸæˆHTMLé¡µé¢
        print("ğŸŒ ç”ŸæˆHTMLé¡µé¢...")
        html_content = generate_enhanced_html(articles)
        
        with open('docs/index.html', 'w', encoding='utf-8') as f:
            f.write(html_content)
        
        # 6. ç”Ÿæˆè¯¦æƒ…é¡µé¢
        print("ğŸ“„ ç”Ÿæˆè¯¦æƒ…é¡µé¢...")
        for article in articles:
            detail_html = generate_detail_page(article)
            detail_path = f"docs/news/{article['id']}.html"
            with open(detail_path, 'w', encoding='utf-8') as f:
                f.write(detail_html)
        
        # 7. ä¿å­˜æ–°é—»æ•°æ®
        news_data = {
            'last_updated': datetime.now().isoformat(),
            'total_count': len(articles),
            'articles': articles
        }
        
        with open('docs/news_data.json', 'w', encoding='utf-8') as f:
            json.dump(news_data, f, ensure_ascii=False, indent=2)
        
        print(f"âœ… æˆåŠŸç”Ÿæˆ {len(articles)} æ¡æ–°é—»")
        print(f"âœ… ç”Ÿæˆäº† {len(articles)} ä¸ªè¯¦æƒ…é¡µé¢")
        print("âœ… ä¿å­˜äº†æ–°é—»æ•°æ®æ–‡ä»¶")
        
        # 8. éªŒè¯ç”Ÿæˆçš„æ–‡ä»¶
        required_files = ['docs/index.html', 'docs/news_data.json']
        for file_path in required_files:
            if os.path.exists(file_path):
                size = os.path.getsize(file_path)
                print(f"âœ… {file_path} ({size} bytes)")
            else:
                print(f"âŒ {file_path} ä¸å­˜åœ¨")
        
        print("\nğŸ‰ AIæ–°é—»æ¨é€ç³»ç»Ÿè¿è¡Œå®Œæˆ!")
        print("ğŸŒ æœ¬åœ°é¢„è§ˆ: æ‰“å¼€ docs/index.html")
        return True
        
    except Exception as e:
        print(f"âŒ ç³»ç»Ÿè¿è¡Œå¤±è´¥: {e}")
        import traceback
        traceback.print_exc()
        
        # ç´§æ€¥å¤‡ç”¨æ–¹æ¡ˆ
        try:
            print("ğŸ†˜ å¯åŠ¨ç´§æ€¥å¤‡ç”¨æ–¹æ¡ˆ...")
            ensure_directories()
            articles = get_sample_articles()
            html_content = generate_enhanced_html(articles)
            
            with open('docs/index.html', 'w', encoding='utf-8') as f:
                f.write(html_content)
            
            print("âœ… ç´§æ€¥å¤‡ç”¨é¡µé¢å·²ç”Ÿæˆ")
            return True
        except:
            print("âŒ ç´§æ€¥å¤‡ç”¨æ–¹æ¡ˆä¹Ÿå¤±è´¥äº†")
            return False

if __name__ == "__main__":
    success = main()
    sys.exit(0 if success else 1)
```

#### 3.2 GitHub Actionså·¥ä½œæµä¿®å¤

æ›´æ–° `.github/workflows/daily-news-push.yml`ï¼š

```yaml
name: AIæ–°é—»æ¯æ—¥æ¨é€ - ä¿®å¤ç‰ˆ

on:
  schedule:
    # æ¯2å°æ—¶è¿è¡Œä¸€æ¬¡ï¼Œé¿å…è¿‡äºé¢‘ç¹
    - cron: '0 */2 * * *'
  workflow_dispatch:
    inputs:
      force_update:
        description: 'å¼ºåˆ¶æ›´æ–°'
        required: false
        default: 'false'

jobs:
  push-news:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    
    steps:
    - name: æ£€å‡ºä»£ç 
      uses: actions/checkout@v4
      with:
        fetch-depth: 0
        
    - name: è®¾ç½®Pythonç¯å¢ƒ
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'
        cache: 'pip'
        
    - name: æ£€æŸ¥ç¯å¢ƒå˜é‡
      run: |
        echo "æ£€æŸ¥å¿…è¦çš„ç¯å¢ƒå˜é‡..."
        if [ -z "${{ secrets.GNEWS_API_KEY }}" ]; then
          echo "âŒ GNEWS_API_KEY æœªè®¾ç½®"
          exit 1
        else
          echo "âœ… GNEWS_API_KEY å·²è®¾ç½®"
        fi
        
    - name: è¿è¡ŒAIæ–°é—»æ¨é€
      env:
        GNEWS_API_KEY: ${{ secrets.GNEWS_API_KEY }}
        SILICONFLOW_API_KEY: ${{ secrets.SILICONFLOW_API_KEY }}
      run: |
        echo "ğŸš€ å¼€å§‹è¿è¡ŒAIæ–°é—»æ¨é€..."
        
        # ä½¿ç”¨ä¿®å¤ç‰ˆè„šæœ¬
        if [ -f "ultra_simple_news_fixed.py" ]; then
          python ultra_simple_news_fixed.py
        else
          python ultra_simple_news.py
        fi
        
        echo "ğŸ“Š æ£€æŸ¥ç”Ÿæˆç»“æœ..."
        if [ -f "docs/index.html" ]; then
          echo "âœ… index.html å·²ç”Ÿæˆ ($(wc -c < docs/index.html) bytes)"
        else
          echo "âŒ index.html ç”Ÿæˆå¤±è´¥"
          exit 1
        fi
        
    - name: æ£€æŸ¥æ–‡ä»¶å˜åŒ–
      id: changes
      run: |
        git add docs/
        if git diff --cached --quiet; then
          echo "has_changes=false" >> $GITHUB_OUTPUT
          echo "ğŸ“ æ²¡æœ‰æ–‡ä»¶å˜åŒ–"
        else
          echo "has_changes=true" >> $GITHUB_OUTPUT
          echo "ğŸ“ æ£€æµ‹åˆ°æ–‡ä»¶å˜åŒ–"
          git diff --cached --stat
        fi
        
    - name: æäº¤æ›´æ–°
      if: steps.changes.outputs.has_changes == 'true' || github.event.inputs.force_update == 'true'
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action Bot"
        
        # æäº¤å˜åŒ–
        git add docs/
        git commit -m "ğŸš€ AIæ–°é—»è‡ªåŠ¨æ›´æ–° - $(date '+%Y-%m-%d %H:%M') UTC" || echo "æ— éœ€æäº¤"
        
        # æ¨é€åˆ°è¿œç¨‹ä»“åº“
        git push origin main || {
          echo "âŒ æ¨é€å¤±è´¥ï¼Œå°è¯•å¼ºåˆ¶æ¨é€..."
          git push --force-with-lease origin main
        }
        
        echo "âœ… æ›´æ–°å·²æäº¤å¹¶æ¨é€"
        
    - name: éƒ¨ç½²çŠ¶æ€æŠ¥å‘Š
      if: always()
      run: |
        echo "=== ğŸ¯ éƒ¨ç½²çŠ¶æ€æŠ¥å‘Š ==="
        echo "â° è¿è¡Œæ—¶é—´: $(date)"
        echo "ğŸ”„ å·¥ä½œæµ: ${{ github.workflow }}"
        echo "ğŸ“‚ ä»“åº“: ${{ github.repository }}"
        
        if [ -f "docs/index.html" ]; then
          echo "âœ… ä¸»é¡µ: docs/index.html ($(wc -c < docs/index.html) bytes)"
        else
          echo "âŒ ä¸»é¡µ: ç”Ÿæˆå¤±è´¥"
        fi
        
        if [ -f "docs/news_data.json" ]; then
          echo "âœ… æ•°æ®: docs/news_data.json ($(wc -c < docs/news_data.json) bytes)"
        else
          echo "âŒ æ•°æ®: ç”Ÿæˆå¤±è´¥"
        fi
        
        echo "ğŸŒ è®¿é—®åœ°å€:"
        echo "  - GitHub Pages: https://${{ github.repository_owner }}.github.io/${GITHUB_REPOSITORY#*/}/"
        echo "  - Vercel: https://ai-news-pusher.vercel.app/"
        
        echo "=== ğŸ“‹ ä¸‹ä¸€æ­¥å»ºè®® ==="
        echo "1. æ£€æŸ¥ Vercel è‡ªåŠ¨éƒ¨ç½²çŠ¶æ€"
        echo "2. éªŒè¯ GitHub Pages æ›´æ–°"
        echo "3. æµ‹è¯•ç½‘ç«™è®¿é—®å’ŒåŠŸèƒ½"
```

### ç¬¬å››æ­¥ï¼šå¿«é€Ÿä¿®å¤æ‰§è¡Œ

#### 4.1 ç«‹å³æ‰§è¡Œçš„ä¿®å¤æ­¥éª¤

```bash
# 1. æ£€æŸ¥å¹¶æ’¤é”€æ³„éœ²çš„GitHubä»¤ç‰Œ
# è®¿é—®: https://github.com/settings/tokens
# æ‰¾åˆ°æ³„éœ²çš„ä»¤ç‰Œå¹¶ç«‹å³åˆ é™¤

# 2. æ£€æŸ¥GitHub Secretsé…ç½®
# è®¿é—®: https://github.com/velist/ai-news-pusher/settings/secrets/actions
# ç¡®è®¤ä»¥ä¸‹Secretså­˜åœ¨:
# - GNEWS_API_KEY
# - SILICONFLOW_API_KEY (å¯é€‰)

# 3. æ£€æŸ¥APIå¯†é’¥æœ‰æ•ˆæ€§
# GNews APIæµ‹è¯• (æ›¿æ¢YOUR_API_KEY):
curl "https://gnews.io/api/v4/search?q=AI&max=1&apikey=YOUR_API_KEY"

# 4. æ‰‹åŠ¨è§¦å‘GitHub Actions
# è®¿é—®: https://github.com/velist/ai-news-pusher/actions
# ç‚¹å‡» "Run workflow" æ‰‹åŠ¨è§¦å‘

# 5. æ£€æŸ¥Vercelé¡¹ç›®çŠ¶æ€
# è®¿é—®: https://vercel.com/dashboard
# æ£€æŸ¥é¡¹ç›®éƒ¨ç½²æ—¥å¿—å’Œç¯å¢ƒå˜é‡
```

#### 4.2 Vercelå¿«é€Ÿä¿®å¤

```json
// ç¡®ä¿ vercel.json é…ç½®æ­£ç¡®
{
  "version": 2,
  "cleanUrls": true,
  "trailingSlash": false,
  "rewrites": [
    {
      "source": "/",
      "destination": "/docs/index.html"
    }
  ],
  "headers": [
    {
      "source": "/docs/(.*)",
      "headers": [
        {
          "key": "Cache-Control", 
          "value": "public, max-age=300"
        }
      ]
    }
  ]
}
```

```bash
# Vercelç¯å¢ƒå˜é‡æ£€æŸ¥æ¸…å•:
# é¡¹ç›®è®¾ç½® â†’ Environment Variables
# 
# å¿…éœ€å˜é‡:
# - GNEWS_API_KEY = ä½ çš„GNews APIå¯†é’¥
# 
# å¯é€‰å˜é‡:
# - SILICONFLOW_API_KEY = ä½ çš„ç¡…åŸºæµåŠ¨APIå¯†é’¥
```

## ğŸ†˜ ç´§æ€¥è”ç³»å’Œæ”¯æŒ

å¦‚æœä»¥ä¸Šæ­¥éª¤ä»æ— æ³•è§£å†³é—®é¢˜ï¼Œå»ºè®®ï¼š

1. **GitHub Issues**: åœ¨ä»“åº“ä¸­åˆ›å»ºè¯¦ç»†çš„é—®é¢˜åé¦ˆ
2. **æ£€æŸ¥æ—¥å¿—**: ä»”ç»†æŸ¥çœ‹Actionså’ŒVercelçš„é”™è¯¯æ—¥å¿—
3. **APIé™é¢**: ç¡®è®¤æ‰€æœ‰APIæœåŠ¡éƒ½æœ‰è¶³å¤Ÿé…é¢
4. **ç½‘ç»œé—®é¢˜**: æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç½‘ç»œè®¿é—®é™åˆ¶

## ğŸ“‹ é—®é¢˜æ’æŸ¥æ£€æŸ¥æ¸…å•

- [ ] GitHubä»¤ç‰Œå·²æ’¤é”€å¹¶é‡æ–°ç”Ÿæˆ
- [ ] GitHub Secretsé…ç½®æ­£ç¡®
- [ ] APIå¯†é’¥æœ‰æ•ˆä¸”æœ‰é…é¢
- [ ] GitHub Actionsæƒé™è®¾ç½®æ­£ç¡®
- [ ] Vercelç¯å¢ƒå˜é‡é…ç½®å®Œæ•´
- [ ] vercel.jsonè¯­æ³•æ­£ç¡®
- [ ] docsç›®å½•ç»“æ„å®Œæ•´

---

**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ27æ—¥
**é€‚ç”¨ç‰ˆæœ¬**: æ‰€æœ‰ç‰ˆæœ¬
**æ›´æ–°çŠ¶æ€**: å®æ—¶ç»´æŠ¤